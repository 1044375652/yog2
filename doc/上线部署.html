<p>当我们的应用开发完毕，就需要考虑上线部署事宜，除了线上 Node.js 运行时的环境准备外，还有一些 yog2 的参数需要调整。</p>
<h5 class=""><a name="%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F" href="#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F">环境变量</a></h5><ul>
<li><p>YOG_DEBUG</p>
<p>  必须设置为 <code>false</code> 或者不设置，这点非常重要，否则会在线上引发非常严重的安全隐患。</p>
</li>
<li><p>YOG_ENV</p>
<p>  可以设置为自己的线上状态比如 <code>prod</code> 或者不设置，不可以设置为 <code>dev</code> 一类开发环境，避免加载了错误的测试环境配置。</p>
</li>
</ul>
<h5 class=""><a name="%E7%B3%BB%E7%BB%9F%E9%85%8D%E7%BD%AE" href="#%E7%B3%BB%E7%BB%9F%E9%85%8D%E7%BD%AE">系统配置</a></h5><ul>
<li><p>/conf/plugins/log.js</p>
<p>  intLevel 建议设置为 4，只输出必要的日志</p>
</li>
<li><p>/conf/plugins/http.js</p>
<p>  module.exports.static.options.maxAge 如果使用了 MD5 戳，可以将此值设置为 864000000 ，开启一天的强缓存。</p>
</li>
</ul>
<h5 class=""><a name="%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7" href="#%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7">运维工具</a></h5><p>除了环境变量与参数设置外，由于 yog2 没有内置 cluster 模式，如果希望使用 cluster 模式运行应用，可以使用 <a href="https://github.com/Unitech/PM2">PM2</a> 来管理应用。同时 <a href="https://github.com/Unitech/PM2">PM2</a> 可以作为守护进程保证 Node.js 应用一旦 Crash，会立刻重启</p>
