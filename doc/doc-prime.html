<h4 class=""><a name="App拆分" class="anchor" href="#App拆分"><span class="doc-link"></span></a>App拆分</h4><p>Yog2继承了FIS的项目拆分能力，但是在原有的前端项目拆分的能力上，更进一步的提供了<strong>前后端一体App</strong>的拆分能力，我们可以将一个功能模块的前后端代码在一个App中统一管理，从代码结构上推动功能模块之间松耦合，并且加快编译速度，减少分支合并工作，最终提高开发效率。</p>
<h5 class=""><a name="目录规范" class="anchor" href="#目录规范"><span class="doc-link"></span></a>目录规范</h5><p>Yog2 App的目录规范可以结合 <a href="https://github.com/fex-team/yog2#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAyog2-app">创建一个Yog2 App</a> 创建的目录进行了解</p>
<pre><code>├─<span class="hljs-keyword">client</span>                 <span class="hljs-preprocessor"># 前端代码</span>
│  ├─page                <span class="hljs-preprocessor"># 前端页面</span>
│  ├─<span class="hljs-keyword">static</span>              <span class="hljs-preprocessor"># 前端非模块化静态资源</span>
│  │  ├─css
│  │  └─js
│  └─widget              <span class="hljs-preprocessor"># 前端组件</span>
├─fis-conf.js            <span class="hljs-preprocessor"># FIS编译配置</span>
└─<span class="hljs-keyword">server</span>                 <span class="hljs-preprocessor"># 后端代码</span>
    ├─action             <span class="hljs-preprocessor"># Action是指MVC中的路由动作，处理页面请求</span>
    ├─lib                <span class="hljs-preprocessor"># 可以存放一些通用库</span>
    ├─model              <span class="hljs-preprocessor"># 可以存放一些数据层代码，如后端API请求等</span>
    └─router.js          <span class="hljs-preprocessor"># AppRouter路由，用于处理自动路由无法满足的需求</span>
</code></pre><h5 class=""><a name="App部署" class="anchor" href="#App部署"><span class="doc-link"></span></a>App部署</h5><p>通过yog2工具，你可以方便的将App部署至Yog2项目中(请事先初始化项目)</p>
<pre><code class="hljs lang-bash"><span class="hljs-comment"># project目录</span>
<span class="hljs-built_in">cd</span> home
<span class="hljs-comment"># home目录</span>
yog2 release <span class="hljs-operator">-d</span> ../yog <span class="hljs-comment">#将home app发布至同级的yog目录中</span>
<span class="hljs-built_in">cd</span> ..
</code></pre>
<h5 class=""><a name="图解App的拆分" class="anchor" href="#图解App的拆分"><span class="doc-link"></span></a>图解App的拆分</h5><p>App部署完毕后，请进入项目下的yog（后端环境）目录，对比该目录前后变化，会发现有如下四处变化：</p>
<p><img src="https://raw.githubusercontent.com/leeethe/fis-doc/quest/static/img-yog2/yog-app.png" alt="yog/app"></p>
<p><img src="https://raw.githubusercontent.com/leeethe/fis-doc/quest/static/img-yog2/yog-static.png" alt="yog/static"></p>
<p><img src="https://raw.githubusercontent.com/leeethe/fis-doc/quest/static/img-yog2/yog-view.png" alt="yog/view"></p>
<p><img src="https://raw.githubusercontent.com/leeethe/fis-doc/quest/static/img-yog2/yog-conf.png" alt="yog/conf"></p>
<p><img src="https://raw.githubusercontent.com/leeethe/fis-doc/quest/static/img-yog2/brainwash.png" alt="brainwash"></p>
<p>综合上图，可以明显看到，App的整个目录结构被分别导出到了yog目录的app、static、views下的&#39;home&#39;目录中（<em>此例中的app初始化时命名为&#39;home&#39;</em>）。而在conf目录中，则出现了一个熟悉的文件map.json（此例中为&#39;home-map.json&#39;）, 如果不熟悉，建议移步<a href="http://fis.baidu.com/docs/more/fis-standard.html#依赖声明">此处</a>，在使用Yog2之前，非常建议您事先对FIS工具有所熟悉。</p>
<p>Yog2的编译和部署与FIS的编译和部署语法完全一致，你甚至可以部署到远程测试机上而不是本机上使用，更多用法可以参考<a href="http://fis.baidu.com/docs/api/fis-conf.html#deploy">FIS文档</a></p>
