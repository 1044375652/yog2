<h4 class=""><a name="App%20%E6%8B%86%E5%88%86" class="anchor" href="#App%20%E6%8B%86%E5%88%86"><span class="doc-link"></span></a>App 拆分</h4><p>Yog2 继承了 FIS 的项目拆分能力，但是在原有的前端项目拆分的能力上，更进一步的提供了 <strong> 前后端一体 App</strong> 的拆分能力，我们可以将一个功能模块的前后端代码在一个 App 中统一管理，从代码结构上推动功能模块之间松耦合，并且加快编译速度，减少分支合并工作，最终提高开发效率。</p>
<h5 class=""><a name="%E7%9B%AE%E5%BD%95%E8%A7%84%E8%8C%83" class="anchor" href="#%E7%9B%AE%E5%BD%95%E8%A7%84%E8%8C%83"><span class="doc-link"></span></a>目录规范</h5><p>Yog2 App 的目录规范可以结合 <a href="https://github.com/fex-team/yog2#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAyog2-app">创建一个 Yog2 App</a> 创建的目录进行了解</p>
<pre><code>├─<span class="hljs-keyword">client</span>                 <span class="hljs-preprocessor"># 前端代码</span>
│  ├─page                <span class="hljs-preprocessor"># 前端页面</span>
│  ├─<span class="hljs-keyword">static</span>              <span class="hljs-preprocessor"># 前端非模块化静态资源</span>
│  │  ├─css
│  │  └─js
│  └─widget              <span class="hljs-preprocessor"># 前端组件</span>
├─fis-conf.js            <span class="hljs-preprocessor"># FIS 编译配置</span>
└─<span class="hljs-keyword">server</span>                 <span class="hljs-preprocessor"># 后端代码</span>
    ├─action             <span class="hljs-preprocessor"># Action 是指 MVC 中的路由动作，处理页面请求</span>
    ├─lib                <span class="hljs-preprocessor"># 可以存放一些通用库</span>
    ├─model              <span class="hljs-preprocessor"># 可以存放一些数据层代码，如后端 API 请求等</span>
    └─router.js          <span class="hljs-preprocessor"># AppRouter 路由，用于处理自动路由无法满足的需求</span>
</code></pre><h5 class=""><a name="App%20%E9%83%A8%E7%BD%B2" class="anchor" href="#App%20%E9%83%A8%E7%BD%B2"><span class="doc-link"></span></a>App 部署</h5><p>通过 yog2 工具，你可以方便的将 App 部署至 Yog2 项目中 (请事先初始化项目)</p>
<pre><code class="hljs lang-bash"><span class="hljs-comment"># project 目录</span>
<span class="hljs-built_in">cd</span> home
<span class="hljs-comment"># home 目录</span>
yog2 release <span class="hljs-operator">-d</span> ../yog <span class="hljs-comment">#将 home app 发布至同级的 yog 目录中</span>
<span class="hljs-built_in">cd</span> ..
</code></pre>
<h5 class=""><a name="%E5%9B%BE%E8%A7%A3%20App%20%E7%9A%84%E6%8B%86%E5%88%86" class="anchor" href="#%E5%9B%BE%E8%A7%A3%20App%20%E7%9A%84%E6%8B%86%E5%88%86"><span class="doc-link"></span></a>图解 App 的拆分</h5><p>App 部署完毕后，请进入项目下的 yog（后端环境）目录，对比该目录前后变化，会发现有如下四处变化：</p>
<p><img src="/yog2/static/doc/img/yog-app_0ae3c78.png" alt="yog/app"></p>
<p><img src="/yog2/static/doc/img/yog-static_93091d1.png" alt="yog/static"></p>
<p><img src="/yog2/static/doc/img/yog-view_1f56f18.png" alt="yog/view"></p>
<p><img src="/yog2/static/doc/img/yog-conf_363fd0c.png" alt="yog/conf"></p>
<p><img src="/yog2/static/doc/img/brainwash_1839b49.png" alt="brainwash"></p>
<p>综合上图，可以明显看到，App 的整个目录结构被分别导出到了 yog 目录的 app、static、views 下的 &#39;home&#39; 目录中（<em> 此例中的 app 初始化时命名为 &#39;home&#39;</em>）。而在 conf 目录中，则出现了一个熟悉的文件 map.json（此例中为 &#39;home-map.json&#39;）, 如果不熟悉，建议移步 <a href="http://fis.baidu.com/docs/more/fis-standard.html# 依赖声明">此处</a>，在使用 Yog2 之前，非常建议您事先对 FIS 工具有所熟悉。</p>
<p>Yog2 的编译和部署与 FIS 的编译和部署语法完全一致，你甚至可以部署到远程测试机上而不是本机上使用，更多用法可以参考 <a href="http://fis.baidu.com/docs/api/fis-conf.html#deploy">FIS 文档</a></p>
