<!DOCTYPE html>
<html>
    <!--head-->
    <head>
      <!-- page title goes here -->
<title>YOG2 - 工业级 Node.js UI 层解决方案</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta charset="UTF-8">
<!-- add your name or URL here -->
<meta name="author" content="fex@baidu.com">
<!-- add a description of your site/company/product here -->
<meta name="description" content="YOG2 - 工业级 Node.js UI 层解决方案">
<!-- add the keywords here that represent your site, an example few have been added -->
<meta name="keywords" content="node, nodejs, fis, fex">
<!-- add your name or URL here -->
<meta name="publisher" content="fex">
<meta name="rating" content="General">
<!-- Bootstrap -->
<link href="/yog2/css/bootstrap.css" rel="stylesheet" media="screen">
<!-- Theme styles -->
<link href="/yog2/css/styles.css" rel="stylesheet" media="screen">
<link href="/yog2/css/animate.min.css" rel="stylesheet" media="screen">
<link href="/yog2/css/font-awesome.min.css" rel="stylesheet" media="screen">
<!-- media-queries -->
<link href="/yog2/css/media-queries.css" rel="stylesheet" media="screen">
<!-- modernizr -->
<script src="/yog2/js/modernizr.custom.js"></script>
<script src="/yog2/js/wow.min.js"></script>

      <link rel="stylesheet" href="/yog2/css/github.css">
    </head>
    <!--head-->
  <body>
    <nav class="navbar" role="navigation">
    <!-- container -->
<div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">YOG2</a>
    </div>
    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse  navbar-collapse  navbar-ex1-collapse">
        <ul class="nav  navbar-nav">
            <li><a href="/yog2/">首页</a></li>
            <li><a href="/yog2/docs">文档</a></li>
            <li><a href="https://github.com/fex-team/yog2" target="_blank">Github</a></li>
            <li><a href="http://fis.baidu.com" target="_blank">FIS</a></li>
            <li><a href="http://fex.baidu.com" target="_blank">FEX</a></li>
        </ul>
    </div>
    <!-- /navbar-collapse -->
</div>
<!-- /container -->

    </nav>
    <div class="doc-wrap">
    <nav class="sidebar" data-spy="affix" data-offset-top="95">
    <ul>
        
        <li class="item-category">
            
            <a href="/yog2/docs/">
                快速入门
            </a>
            
        </li>
        
        <li class="item-category">
            
            <span>
                基础使用
            </span>
            
        </li>
        
        <li class="item-sub">
            
            <a href="/yog2/docs/basic/cli.html#命令行">
                命令行
            </a>
            
        </li>
        
        <li class="item-sub">
            
            <a href="/yog2/docs/basic/structure.html#目录结构">
                目录结构
            </a>
            
        </li>
        
        <li class="item-sub">
            
            <a href="/yog2/docs/basic/router.html#路由">
                路由
            </a>
            
        </li>
        
        <li class="item-sub">
            
            <a href="/yog2/docs/basic/mvc.html#mvc">
                MVC
            </a>
            
        </li>
        
        <li class="item-category">
            
            <span>
                插件系统
            </span>
            
        </li>
        
        <li class="item-sub">
            
            <a href="/yog2/docs/plugin-system/#插件系统">
                内置插件
            </a>
            
        </li>
        
        <li class="item-sub">
            
            <a href="/yog2/docs/plugin-system/#用户插件">
                用户插件
            </a>
            
        </li>
        
        <li class="item-sub">
            
            <a href="/yog2/docs/plugin-system/#插件配置">
                插件配置
            </a>
            
        </li>
        
        <li class="item-category">
            
            <span>
                内置功能
            </span>
            
        </li>
        
        <li class="item-sub">
            
            <a href="/yog2/docs/features/middleware.html#中间件管理">
                中间件管理
            </a>
            
        </li>
        
        <li class="item-sub">
            
            <a href="/yog2/docs/features/log.html#日志管理">
                日志管理
            </a>
            
        </li>
        
        <li class="item-sub">
            
            <a href="/yog2/docs/features/service.html#服务管理">
                服务管理
            </a>
            
        </li>
        
        <li class="item-category">
            
            <span>
                前端工程化
            </span>
            
        </li>
        
        <li class="item-sub">
            
            <a href="/yog2/docs/fe/engineering.html#前端工程化">
                目录规范
            </a>
            
        </li>
        
        <li class="item-sub">
            
            <a href="/yog2/docs/fe/engineering.html#三种语言能力">
                三种语言能力
            </a>
            
        </li>
        
        <li class="item-sub">
            
            <a href="/yog2/docs/fe/engineering.html#前端模块化">
                前端模块化
            </a>
            
        </li>
        
        <li class="item-sub">
            
            <a href="/yog2/docs/fe/backend-template.html#后端模板">
                后端模板
            </a>
            
        </li>
        
        <li class="item-sub">
            
            <a href="/yog2/docs/fe/optimizer.html#性能优化">
                性能优化
            </a>
            
        </li>
        
        <li class="item-category">
            
            <span>
                进阶功能
            </span>
            
        </li>
        
        <li class="item-sub">
            
            <a href="/yog2/docs/advance/pagelet.html#BigPipe">
                BigPipe
            </a>
            
        </li>
        
        <li class="item-sub">
            
            <a href="/yog2/docs/advance/pagelet.html#Quickling">
                Quickling
            </a>
            
        </li>
        
        <li class="item-category">
            
            <span>
                其他
            </span>
            
        </li>
        
        <li class="item-sub">
            
            <a href="/yog2/docs/reference.html#参考资料">
                参考资料
            </a>
            
        </li>
        
        <li class="item-sub">
            
            <a href="/yog2/docs/FAQ.html#faq">
                FAQ
            </a>
            
        </li>
        
    </ul>
</nav>
<div class="bottom-shadow"></div>

    <div class="doc-container">
      <div class="toc" data-spy="affix" data-offset-top="95"></div>
      <article class="doc-content codehilite">
      <h2 id="命令行">命令行</h2>

<h3 id="init">init</h3>

<p>yog2 init 是脚手架命令，用于初始化一些环境与代码，目前提供的脚手架有</p>

<ul>
<li><p><code>yog2 init project</code></p>

<p>初始化一个yog2 project，主要包含了基础的 project 目录结构和基础框架代码</p></li>
<li><p><code>yog2 init app</code></p>

<p>初始化一个 yog2 app，主要包含了基础的 app 目录结构与一些样例文件</p></li>
<li><p><code>yog2 init node-runtime</code></p>

<p>仅限百度内部使用，包含了公司内部可用的线上 Node.js 运行时和运维工具</p></li>
</ul>

<h3 id="release">release</h3>

<p>yog2 release 是最重要的命令之一，它的主要功能是对 app 代码进行编译和发布，它会将 app 中的业务代码按照 project 的目录规范进行组织，同时对 app 中的前端代码进行优化和组织。</p>

<p>它包含多个参数用于控制 app 的开发、编译、部署等等工作。因为 yog2 实际上是扩展自 fis ，因此这些参数也均来自 <a href="http://fis.baidu.com/docs/api/cli.html">fis</a>。</p>

<h4 id="发布参数">发布参数</h4>

<ul>
<li><p>指定编译 app 代码并发布至某个目录</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">yog2 release --dest ../yog
</code></pre></div></li>
<li><p>指定编译 app 代码并发布至某个 deploy 配置项</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">yog2 release --dest dev
</code></pre></div></li>
<li><p>监听文件修改，对修改文件进行增量编译并发布</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">yog2 release --dest dev --watch
</code></pre></div></li>
<li><p>监听文件修改，并自动刷新页面</p>

<blockquote>
<p>自动刷新页面需要下载 livereload 插件，并且 yog2 release 命令执行后需手动刷新一次页面</p>
</blockquote>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">yog2 release --dest dev --watch --live
</code></pre></div></li>
</ul>

<h4 id="编译参数">编译参数</h4>

<ul>
<li><p>压缩静态资源</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"> yog2 release --dest dev --optimize
</code></pre></div></li>
<li><p>为静态资源添加MD5后缀</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"> yog2 release --dest dev --md5
</code></pre></div></li>
<li><p>打包静态资源</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"> yog2 release --dest dev --pack
</code></pre></div></li>
<li><p>为静态资源添加 domain</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"> yog2 release --dest dev --domains
</code></pre></div></li>
</ul>

<p>上述的所有参数均可以组合使用，比如使用以下命令</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">yog2 release --watch --live --optimize --md5 --domains --pack --dest dev
</code></pre></div>
<p>就会组合相应的各种操作。</p>

<p>此外，这些参数还提供了缩写和组合的功能，比如上述的命令缩写后可以写成</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">yog2 release -w -L -o -m -D -p -d dev
</code></pre></div>
<p>还可以更进一步组合一下</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">yog2 release -wLomDpd dev
</code></pre></div>
<p>最后，如果忘记了命令，还可以使用 <code>-h</code> 参数进行查询</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">yog2 release -h

  Usage: release <span class="o">[</span>options<span class="o">]</span>

  Options:

    -h, --help             output usage information
    -d, --dest &lt;names&gt;     release output destination
    -m, --md5 <span class="o">[</span>level<span class="o">]</span>      md5 release option
    -D, --domains          add domain name
    -l, --lint             with lint
    -t, --test             with unit testing
    -o, --optimize         with optimizing
    -p, --pack             with package
    -w, --watch            monitor the changes of project
    -L, --live             automatically reload your browser
    -c, --clean            clean compile cache
    -r, --root &lt;path&gt;      <span class="nb">set </span>project root
    -f, --file &lt;filename&gt;  <span class="nb">set </span>fis-conf file
    -u, --unique           use unique compile caching
    --verbose              <span class="nb">enable </span>verbose output
</code></pre></div>
<blockquote>
<p>关于静态资源的优化编译功能，建议使用 fis 的<a href="http://fis.baidu.com/">文档</a>进行了解，会更加的全面。</p>
</blockquote>

<h4 id="plugin">plugin</h4>

<p>yog2 plugin 命令用于安装 yog2 的插件功能，比如</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">yog2 plugin install session
</code></pre></div>
<p>就可以安装 session 插件，之后只需要在 <code>/conf/plugins/http.js</code> 的中间件配置中加上 <code>session</code> 就可以使用 session 功能。</p>

<p>除了内置的插件外，还可以直接从github上下载插件</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">yog2 plugin https://github.com/hefangshi/yog2-plugin-ral-promise
</code></pre></div>
<blockquote>
<p>安装了这个插件可以将 <code>yog.ral</code> 包装为 Promise 形式的接口。</p>
</blockquote>

<h4 id="install">install</h4>

<p>yog2 install 用于安装 fis 组件生态 <a href="https://github.com/fis-components">fis-components</a> 中的各种组件</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">yog2 install jquery 
</code></pre></div>
<p>安装后，在 app 的前端代码中，就可以直接使用</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">$</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;jquery&#39;</span><span class="p">);</span>
</code></pre></div>
      <blockquote>
        <p>文章有错误？直接提交修改 <a target="_blank" href="https://github.com/fex-team/yog2/edit/gh-pages/docs/basic/cli.md">docs/basic/cli.md</a></p>
      </blockquote>
      </article>
      <!-- footer -->
<section class="footer  flush--top">
    <div class="container">
        <div class="row">
            <ul class="list-unstyled  col-12  col-sm-3  col-lg-2">
                <li><a href="oak@baidu.com">Email</a></li>
                <li><a href="https://github.com/fex-team/yog2/issues" target="_blank">Github Issue</a></li>
            </ul>
            <ul class="list-unstyled  col-12  col-sm-2  col-lg-2">
                <li><a href="/yog2/">首页</a></li>
                <li><a href="/yog2/docs">文档</a></li>
                <li><a href="https://github.com/fex-team/yog2" target="_blank">Github</a></li>
                <li><a href="http://fis.baidu.com" target="_blank">FIS</a></li>
                <li><a href="http://fex.baidu.com" target="_blank">FEX</a></li>
            </ul>
            <div class="col-12  col-sm-7  col-lg-5  col-lg-offset-3  text-left  hard--left">
                <h3 class="footer--main-logo">加入我们</h3> FEX 是百度「Web 前端研发部」的内部名称
                <br/> 其中 FE 是 Front End 的缩写，X 代表我们不仅关注前端技术，还更重视全端及全栈的能力。
                <br/> 如果你对这个团队感兴趣，可以 <a class="underline" target="_blank" href="http://fex.baidu.com/we-need-you/">点击这里</a>。
            </div>
        </div>
    </div>
</section>
<!-- footer -->

    </div>
    </div>

    <!-- jQuery -->
    <script src="/yog2/js/jquery.js"></script>
    <script src="/yog2/js/scrollspy.js"></script>
    <script src="/yog2/js/toc.js"></script>
    <!-- Bootstrap js -->
    <script src="/yog2/js/bootstrap.min.js"></script>
    <!-- Optionally enable responsive features in IE8. Respond.js can be obtained from https://github.com/scottjehl/Respond -->
    <script src="/yog2/js/respond.min.js"></script>

  </body>

</html>
